{"ast":null,"code":"// Title: Navbar.js\n// Author: Joel Harawa\nimport styled from\"styled-components\";import isMobile from\"is-mobile\";import{useEffect,useState}from\"react\";// Constants\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DEFAULT_PHOTO=\"https://img.icons8.com/?size=100&id=z\"+\"-JBA_KtSkxG&format=png&color=000000\";// Navbar component\nconst Navbar=()=>{// State variables\nconst[user,setUser]=useState(\"Guest\");const[photo,setPhoto]=useState(DEFAULT_PHOTO);const[isMobileDevice,setIsMobileDevice]=useState(false);useEffect(()=>{// Check if device is a mobile device, update state varible\nsetIsMobileDevice(isMobile());},[isMobileDevice]);useEffect(()=>{const apiUrl=\"http://localhost:4000/api/auth/user\";// Retrieve user profile information, update user's state variables\nconst getUserProfile=async()=>{try{// Get request to get user's profile information\nconst response=await fetch(apiUrl,{method:\"GET\",credentials:\"include\"});// If the response is OK set the user's state variables\nif(response.status===200){const rawData=await response.json();const data=JSON.parse(rawData);setPhoto(data.images[0].url);setUser(data.display_name);}}catch(error){console.error(\"Error retrieving user profile: \",error);}};getUserProfile();},[]);// Log the user into the client using Spotify API\nconst login=async()=>{const response=await fetch(\"http://localhost:4000/api/auth/login\");const data=await response.json();window.location.href=data.url;};// Log the user out the client\nconst logout=async()=>{try{const apiUrl=\"http://localhost:4000/api/auth/logout\";const response=await fetch(apiUrl,{method:\"POST\",credentials:\"include\"});if(response.status===200){window.location.reload();console.log(\"Successfully Logged user out.\");}}catch(error){console.error(\"Error logging out user: \",error);}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Left,{}),/*#__PURE__*/_jsx(Middle,{children:/*#__PURE__*/_jsx(Logo,{ismobile:isMobileDevice.toString(),href:\"/\",children:\"Moosic\"})}),user!==\"Guest\"?/*#__PURE__*/_jsxs(Right,{children:[/*#__PURE__*/_jsx(ProfileContainer,{ismobile:isMobileDevice.toString(),children:/*#__PURE__*/_jsx(ProfilePhoto,{src:photo})}),/*#__PURE__*/_jsx(MenuItem,{onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(Right,{children:/*#__PURE__*/_jsx(ProfileContainer,{ismobile:isMobileDevice.toString(),onClick:login,children:/*#__PURE__*/_jsx(ProfilePhoto,{src:photo})})})]});};const Container=styled.div`\n    background-color: #2B2B2B;\n    display: flex;\n    height: 10%;\n    width: 100%;\n`;// Left side of the Navbar\nconst Left=styled.div`\n    flex: 1;\n`;// Middle of the Navbar\nconst Middle=styled.div`\n    display: flex;\n    flex: 1;\n    height: 100%;\n    align-items: center;\n    justify-content: center;\n`;const Logo=styled.a`\n    color: #A239CA;\n    font-family: \"Poppins\", system-ui;\n    font-size: ${props=>props.ismobile===\"true\"?\"3em\":\"4em\"};\n    text-decoration: none;\n`;// Right side of the Navbar\nconst Right=styled.div`\n    display: flex;\n    flex: 1;\n    height: 100%;\n    align-items: center;\n    justify-content: flex-end;\n`;const ProfileContainer=styled.div`\n    background-color: white;\n    border-radius: 50%;\n    display: flex;\n    height: ${props=>props.ismobile===\"true\"?\"30px\":\"50px\"};\n    margin-right: ${props=>props.ismobile===\"true\"?\"10px\":\"50px\"};\n    width: ${props=>props.ismobile===\"true\"?\"30px\":\"50px\"};\n    &:hover {\n        cursor: pointer;\n    }\n    overflow: hidden;\n`;const MenuItem=styled.a`\n    font-family: \"Poppins\", system-ui;\n    font-size: 1.25em;\n    color: #4717F6;\n    margin-right: 50px;\n    text-decoration: none;\n    &:hover {\n        text-decoration: none;\n        color: white;\n    }\n`;const ProfilePhoto=styled.img`\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n`;export default Navbar;","map":{"version":3,"names":["styled","isMobile","useEffect","useState","jsx","_jsx","jsxs","_jsxs","DEFAULT_PHOTO","Navbar","user","setUser","photo","setPhoto","isMobileDevice","setIsMobileDevice","apiUrl","getUserProfile","response","fetch","method","credentials","status","rawData","json","data","JSON","parse","images","url","display_name","error","console","login","window","location","href","logout","reload","log","Container","children","Left","Middle","Logo","ismobile","toString","Right","ProfileContainer","ProfilePhoto","src","MenuItem","onClick","div","a","props","img"],"sources":["C:/Users/Joel/VS Code Projects/Moosic2/src/components/Navbar.js"],"sourcesContent":["// Title: Navbar.js\r\n// Author: Joel Harawa\r\n\r\nimport styled from \"styled-components\";\r\nimport isMobile from \"is-mobile\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// Constants\r\nconst DEFAULT_PHOTO = \"https://img.icons8.com/?size=100&id=z\" +\r\n                      \"-JBA_KtSkxG&format=png&color=000000\";\r\n\r\n// Navbar component\r\nconst Navbar = () => {\r\n    // State variables\r\n    const [user, setUser] = useState(\"Guest\");\r\n    const [photo, setPhoto] = useState(DEFAULT_PHOTO);\r\n    const [isMobileDevice, setIsMobileDevice] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // Check if device is a mobile device, update state varible\r\n        setIsMobileDevice(isMobile());\r\n    }, [isMobileDevice]);\r\n    \r\n    useEffect(() => {\r\n        const apiUrl = \"http://localhost:4000/api/auth/user\";\r\n        // Retrieve user profile information, update user's state variables\r\n        const getUserProfile = async () => {\r\n            try {\r\n                // Get request to get user's profile information\r\n                const response = await fetch(apiUrl, {\r\n                    method: \"GET\",\r\n                    credentials: \"include\"\r\n                });\r\n\r\n                // If the response is OK set the user's state variables\r\n                if (response.status === 200) {\r\n                    const rawData = await response.json();\r\n                    const data = JSON.parse(rawData);\r\n                    setPhoto(data.images[0].url);\r\n                    setUser(data.display_name);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error retrieving user profile: \", error);\r\n            }\r\n        }\r\n        getUserProfile();\r\n    }, []);\r\n\r\n    // Log the user into the client using Spotify API\r\n    const login = async () => {\r\n        const response = await fetch(\"http://localhost:4000/api/auth/login\");\r\n        const data = await response.json();\r\n        window.location.href = data.url;\r\n    }\r\n\r\n    // Log the user out the client\r\n    const logout = async () => {\r\n        try {\r\n            const apiUrl = \"http://localhost:4000/api/auth/logout\";\r\n            const response = await fetch(apiUrl, {\r\n                method: \"POST\",\r\n                credentials: \"include\"\r\n            });\r\n            if (response.status === 200) {\r\n                window.location.reload();\r\n                console.log(\"Successfully Logged user out.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error logging out user: \", error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Left/>\r\n            <Middle>\r\n                <Logo ismobile={isMobileDevice.toString()} href=\"/\">Moosic</Logo>\r\n            </Middle>\r\n                {user !== \"Guest\" ? \r\n                    <Right>\r\n                        <ProfileContainer ismobile={isMobileDevice.toString()}>\r\n                            <ProfilePhoto src={photo}/>\r\n                        </ProfileContainer>\r\n                        <MenuItem onClick={logout}>Logout</MenuItem>\r\n                    </Right>:\r\n                    <Right>\r\n                        <ProfileContainer ismobile={isMobileDevice.toString()} onClick={login}>\r\n                            <ProfilePhoto src={photo}/>\r\n                        </ProfileContainer>\r\n                    </Right>\r\n                }\r\n        </Container>\r\n    )\r\n}\r\n\r\nconst Container = styled.div`\r\n    background-color: #2B2B2B;\r\n    display: flex;\r\n    height: 10%;\r\n    width: 100%;\r\n`;\r\n\r\n// Left side of the Navbar\r\nconst Left = styled.div`\r\n    flex: 1;\r\n`;\r\n\r\n// Middle of the Navbar\r\nconst Middle = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n    height: 100%;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst Logo = styled.a`\r\n    color: #A239CA;\r\n    font-family: \"Poppins\", system-ui;\r\n    font-size: ${(props) => (props.ismobile === \"true\" ? \"3em\" : \"4em\")};\r\n    text-decoration: none;\r\n`;\r\n\r\n// Right side of the Navbar\r\nconst Right = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n    height: 100%;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n`;\r\n\r\nconst ProfileContainer = styled.div`\r\n    background-color: white;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    height: ${(props) => (props.ismobile === \"true\" ? \"30px\" : \"50px\")};\r\n    margin-right: ${(props) => (props.ismobile === \"true\" ? \"10px\" : \"50px\")};\r\n    width: ${(props) => (props.ismobile === \"true\" ? \"30px\" : \"50px\")};\r\n    &:hover {\r\n        cursor: pointer;\r\n    }\r\n    overflow: hidden;\r\n`;\r\n\r\nconst MenuItem = styled.a`\r\n    font-family: \"Poppins\", system-ui;\r\n    font-size: 1.25em;\r\n    color: #4717F6;\r\n    margin-right: 50px;\r\n    text-decoration: none;\r\n    &:hover {\r\n        text-decoration: none;\r\n        color: white;\r\n    }\r\n`;\r\n\r\nconst ProfilePhoto = styled.img`\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nexport default Navbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}